# π™‹β€β™‚ Chap03_λ‹¤ν•μ„±κ³Ό μ¶”μƒ νƒ€μ…

## π“ μƒμ† κ°μ”

- μƒμ†: ν• νƒ€μ…μ„ κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄μ„ κµ¬ν„μ„ μ¶”κ°€ν•  μ μλ„λ΅ ν•¨
- μƒμ†μ€ μ£Όλ΅ κΈ°λ¥μ„ ν™•μ¥ν•κΈ° μ„ν•΄ μ‚¬μ©
- overrideλ¥Ό ν†µν•΄ κΈ°μ΅΄μ μλ κΈ°λ¥μ„ ν™•μ¥ν•  μ μμ
- μ½”ν‹€λ¦°μ—μ„λ” μ•„λμ™€ κ°™μ€ λ°©μ‹μΌλ΅ μƒμ†μ„ κµ¬ν„ν•  μ μμ

```
open class Test {
    open fun run() {
    println("ν…μ¤νΈμ…λ‹λ‹¤")
}
    
class InheritanceTest: Test() {
    override fun run() {
    println("μ¤λ²„λΌμ΄λ“ν–μµλ‹λ‹¤"
    }
}
```

## π“ λ‹¤ν•μ„±κ³Ό μƒμ†

- λ‹¤ν•μ„±?
    - ν• κ°μ²΄κ°€ μ—¬λ¬ κ°€μ§€(poly) λ¨μµ(morph)μ„ κ°–λ”λ‹¤λ” μλ―Έ, μ¦‰ ν• κ°μ²΄κ°€ μ—¬λ¬ νƒ€μ…μ„ κ°€μ§ μ μλ‹¤λ” κ²ƒ
    - κ°μ²΄μ§€ν–¥μ μ‚¬μ‹¤κ³Ό μ¤ν•΄(ν† λΌμ±…)
        - λ™μΌν• μ”μ²­(λ©”μ‹μ§€)μ— λ€ν•΄ μ„λ΅ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μ‘λ‹µν•  μ μλ” λ¥λ ¥

### π”– μΈν„°νμ΄μ¤ μƒμ†κ³Ό κµ¬ν„ μƒμ†

```
abstract class Test1  // μ¶”μƒ ν΄λμ¤ (μ¶”μƒ λ©”μ„λ“, ν”„λ΅νΌν‹°κ°€ ν¬ν•¨). open ν‚¤μ›λ“κ°€ μ—†μ–΄λ„ μƒμ†μ΄ κ°€λ¥
interface Test2 // μΈν„°νμ΄μ¤
open class Test3 // μƒμ†μ΄ κ°€λ¥ν• ν΄λμ¤
interface Test4

class Inheritance1: Test1(), Test2, Test4
class Inheritance2: Test2(), Test2, Test4
```

- interfaceκ°€ μ•„λ‹λ©΄ λ‹¤μ¤‘ μƒμ†μ€ λ¶κ°€
- abstract λ©”μ„λ“κ°€ μμΌλ©΄ μƒμ†λ°›μ€ κ°μ²΄μ—μ„ λ°λ“μ‹ κµ¬ν„ν•΄μ•Ό ν•λ‹¤
- μ½”ν‹€λ¦°μ—μ„ classμ™€ funμ€ κΈ°λ³Έμ μΌλ΅ final ν•νƒ (μƒμ†μ΄ λ¶κ°€). μ—¬κΈ°μ„ open ν‚¤μ›λ“λ¥Ό λ¶™μ΄λ©΄ μƒμ†μ΄ κ°€λ¥ν•΄μ§„λ‹¤
- λ” μ΄μƒ μƒμ†μ„ μ›ν•μ§€ μ•λ”λ‹¤λ©΄ final ν‚¤μ›λ“λ¥Ό μ“°μ `final override fun test()`

## π“ μ¶”μƒ νƒ€μ…κ³Ό μ μ—°ν•¨

- μ¶”μƒν™”(abstraction)λ€?
    - λ°μ΄ν„°λ‚ ν”„λ΅μ„Έμ¤ λ“±μ„ μλ§κ°€ λΉ„μ·ν• κ°λ…μ΄λ‚ ν‘ν„μΌλ΅ μ •μν•λ” κ³Όμ •
    - <ν† λΌμ±…>
        - μ–΄λ–¤ μ–‘μƒ, μ„Έλ¶€μ‚¬ν•­, κµ¬μ΅°λ¥Ό μΆ€ λ” λ…ν™•ν•κ² μ΄ν•΄ν•κΈ° μ„ν•΄ νΉμ • μ μ°¨λ‚ λ¬Όμ²΄λ¥Ό μλ„μ μΌλ΅ μƒλµν•κ±°λ‚ κ°μ¶¤μΌλ΅μ¨ λ³µμ΅λ„λ¥Ό κ·Ήλ³µν•λ” λ°©λ²•
        - λ³µμ΅μ„±μ„ λ‹¤λ£¨κΈ° μ„ν•΄ μ¶”μƒν™”λ” λ‘ μ°¨μ›μ—μ„ μ΄λ¤„μ§„λ‹¤
            - κµ¬μ²΄μ μΈ μ‚¬λ¬Όλ“¤ κ°„μ κ³µν†µμ μ€ μ·¨ν•κ³  μ°¨μ΄μ μ€ λ²„λ¦¬λ” μΌλ°ν™”λ¥Ό ν†µν•΄ λ‹¨μν•κ² λ§λ“λ” κ²ƒ
                - <μ•¨λ¦¬μ¤ μ΄μ•ΌκΈ°>
                    - μ •μ›μ‚¬, λ³‘μ‚¬, μ‹ ν•, μ™•μ, κ³µμ£Ό, ν•νΈ μ—¬μ™•, ν•νΈ μ™• λ“± λ‹¤μ–‘ν• κ°μ²΄κ°€ λ“±μ¥ν•μ§€λ§ μ•¨λ¦¬μ¤λ” κ³µν†µμ μΈ μ™Έν•μ„ κ°€μ§€κ³  μ΄λ“¤μ„ λ¨λ‘ 'νΈλΌν”„'λΌκ³  λ³µμ΅μ„±μ„ κ·Ήλ³µν•κ³  λ‹¨μν•κ²
                      μƒκ°ν•¨
            - μ¤‘μ”ν• λ¶€λ¶„μ„ κ°•μ΅°ν•κΈ° μ„ν•΄ λ¶ν•„μ”ν• μ„Έλ¶€μ‚¬ν•­μ„ μ κ±°ν•¨μΌλ΅μ¨ λ‹¨μν•κ² λ§λ“λ” κ²ƒ

- μ¶”μƒ νƒ€μ…
    - λ‹¨μν μΈν„°νμ΄μ¤κ°€ μ•„λ‹λΌ κ° κ°μ²΄μ κΈ°λ¥/μ±…μ„μΌλ΅λ¶€ν„° λ™μΌν• κ°λ…μΌλ΅ μ •μν•  μ μλ” κ²ƒ
    - <ν† λΌμ±…>
        - κ°λ…
            - μΌλ°μ μΌλ΅ μ°λ¦¬κ°€ μΈμ‹ν•κ³  μλ” λ‹¤μ–‘ν• μ‚¬λ¬Όμ΄λ‚ κ°μ²΄μ— μ μ©ν•  μ μλ” μ•„μ΄λ””μ–΄λ‚ κ΄€λ…
        - κ°μ²΄
            - κ°μ²΄λ€ νΉμ •ν• κ°λ…μ„ μ μ©ν•  μ μλ” κµ¬μ²΄μ μΈ μ‚¬λ¬Ό
        - μ¶”μƒν™”μ λ°©λ²• μ¤‘μ ν•λ‚μΈ λ¶„λ¥
            - κ°μ²΄μ— νΉμ •ν• κ°λ…μ„ μ μ©ν•λ” μ‘μ—…
        - νƒ€μ…
            - νƒ€μ…μ€ κ°λ…μ΄λ‹¤
            - κ³µν†µμ μ„ κΈ°λ°μΌλ΅ κ°μ²΄λ“¤μ„ λ¬¶κΈ° μ„ν• ν‹€
        - κ°μ²΄μ νƒ€μ…
            - μ–΄λ–¤ κ°μ²΄κ°€ μ–΄λ–¤ νƒ€μ…μ— μ†ν•λ”μ§€λ¥Ό κ²°μ •ν•λ” κ²ƒμ€ κ°μ²΄κ°€ μν–‰ν•λ” ν–‰λ™(μ±…μ„)μ΄λ‹¤
            - νΉμ • κ°μ²΄κ°€ λ‹¤λ¥Έ κ°μ²΄μ™€ λ™μΌν•κ² λ¶„λ¥λκΈ° μ„ν• κΈ°μ¤€μ€?
                - ν•΄λ‹Ή κ°μ²΄μ™€ λ‹¤λ¥Έ κ°μ²΄κ°€ λ™μΌν• `ν–‰λ™(μ±…μ„)`μ„ ν•  λ•
                - κ°μ²΄λ“¤μ΄ κ°μ λ‹¤λ¥Έ λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μλ”λΌλ„ λ™μΌν• ν–‰λ™μ„ ν•λ©΄ λ™μΌν• νƒ€μ…μΌλ΅ λ¶„λ¥ν•  μ μμ
                - λ°λ€λ΅, κ°μ²΄λ“¤μ΄ κ°™μ€ λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μλ”λΌκ³  λ‹¤λ¥Έ ν–‰λ™μ„ ν•λ©΄ λ™μΌν• νƒ€μ…μ΄ μ•„λ‹λ‹¤
                    - μ•μ„ μ„¤λ…ν• λ‹¤ν•μ„±μ—μ„ λ™μΌν• μ”μ²­(λ©”μ‹μ§€)μ— λ€ν•΄ μ„λ΅ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μ‘λ‹µν•  μ μλ” λ¥λ ¥
                        - λ™μΌν• μ”μ²­μ— λ€ν•΄μ„ μ‘λ‹µν•λ” κ²ƒ -> λ™μΌν• ν–‰λ™/μ±…μ„

```
class Dog {
    fun bark() {
        println("λ©λ©")
    }
}

class Cat {
    fun bark() {
        println("μ•ΌμΉ")
    }
}
```

```
interface Pet {
    fun bark()
}

class Dog : Pet {
    override fun bark() {
        println("λ©λ©")
    }
}

class Cat : Pet {
    override fun bark() {
        println("μ•ΌμΉ")
    }
}
```

### π”– μ¶”μƒ νƒ€μ…κ³Ό μ‹¤μ  κµ¬ν„μ μ—°κ²°

- μƒμ†μ„ ν†µν•΄ μ¶”μƒ νƒ€μ…κ³Ό κµ¬ν„ ν΄λμ¤λ¥Ό μ—°κ²°ν•  μ μμ

```
val pet: Pet = Dog()
pet.bark() // λ©λ©
pet= Cat()
pet.bark() // μ•ΌμΉ
```

- μ„μ μ½”λ“μ—μ„ κ° ν•μ„ ν΄λμ¤μ— λ”°λΌ μ¬μ •μλ bark() λ©”μ„λ“κ°€ νΈμ¶λ¨
- μ΄μ²λΌ κ° ν•μ„ νƒ€μ…λ“¤μ€ λ¨λ‘ μƒμ„ νƒ€μ…μΈ Pet μΈν„°νμ΄μ¤μ— μ •μλ κΈ°λ¥μ„ κµ¬ν„ν•κΈ° λ•λ¬Έμ—, μ½ν¬λ¦¬νΈ ν΄λμ¤, κµ¬ν„ ν΄λμ¤ λλ” κµ¬μƒ ν΄λμ¤λΌ λ¶λ¦°λ‹¤

### π”– μ¶”μƒ νƒ€μ…μ„ μ΄μ©ν• κµ¬ν„ κµμ²΄μ μ μ—°ν•¨
- μ™ μ½ν¬λ¦¬νΈ ν΄λμ¤λ¥Ό λ°”λ΅ μ‚¬μ©ν•μ§€ μ•κ³  μ¶”μƒ νƒ€μ…μ„ μ΄μ©ν•΄μ•Ό ν• κΉ?

```
interface Pet {
    var name: String
    fun bark()
}

class Dog : Pet {
    override var name: String = "λ©λ©μ΄"
    override fun bark() {
        println("λ©λ©")
    }
}

class Cat : Pet {
    override var name: String = "μ•ΌμΉμ΄"
    override fun bark() {
        println("μ•ΌμΉ")
    }
}


fun shoutName(pet:Any) {
    when (pet) {
        is Dog -> println("${pet.name}μ…λ‹λ‹¤")
        is Cat -> println("${pet.name}μ…λ‹λ‹¤")
        else -> println("λ™λ¬Όμ΄ μ•„λ‹™λ‹λ‹¤")
    }
```

- μ—¬κΈ°μ— μ•µλ¬΄μƒκ°€ μ¶”κ°€

```
class Parrot: Pet {
    override var name: String = "μ•µλ¬΄μƒ"
  override fun bark() {
  println("μ•λ…•")
  }
  
fun shoutName(pet:Any) {
    when (pet) {
        is Dog -> println("${pet.name}μ…λ‹λ‹¤")
        is Cat -> println("${pet.name}μ…λ‹λ‹¤")
        is Parrot -> println("${pet.name}μ…λ‹λ‹¤")
        else -> println("λ™λ¬Όμ΄ μ•„λ‹™λ‹λ‹¤")
    }
```
- μ¶”μƒ νƒ€μ…μ„ μ“΄λ‹¤λ©΄?
```
interface Pet {
    var name: String
    fun bark()
}

class Dog : Pet {
    override var name: String = "λ©λ©μ΄"
    override fun bark() {
        println("λ©λ©")
    }
}

class Cat : Pet {
    override var name: String = "μ•ΌμΉμ΄"
    override fun bark() {
        println("μ•ΌμΉ")
    }
}

class Parrot: Pet {
    override var name: String = "μ•µλ¬΄μƒ"
    override fun bark() {
        println("μ•λ…•")
    }
}

fun shoutName(pet:Any) {
    val pet: Pet = specify(pet)
    println("${pet.name}μ…λ‹λ‹¤")
    }
```
- specify(pet)ν•¨μλ” μ…λ ¥λ°›μ€ λ§¤κ°λ³€μλ¥Ό Pet νƒ€μ…μΌλ΅ ν• λ‹Ήν•΄μ£Όλ” λ©”μ„λ“
  - shoutName ν•¨μ μ•μ— μ΄λ¦„μ„ μ™ΈμΉλ” κΈ°λ¥κ³Ό λ§¤κ°λ³€μλ¥Ό Pet κ°μ²΄ νƒ€μ…μΌλ΅ λ§λ“λ” κΈ°λ¥μ΄ μλ‹¤λ©΄ μ΄λ¥Ό λ¶„λ¦¬ν•μ—¬ μ±…μ„μ„ λ¶„λ‹΄ν•΄μ•Ό ν•λ‹¤
- λ§μ•½ μ¶”κ°€ μ”κµ¬ μ‚¬ν•­μΌλ΅ λ±€, ν–„μ¤ν„° λ“±λ“± λ‹¤λ¥Έ ν«μ΄ μ¶”κ°€λμ–΄λ„?
  - specify λ©”μ„λ“μ—μ„λ§ λ³€ν™”κ°€ μƒκΉ€
  - shoutName λ©”μ„λ“λ” μ•„λ¬΄λ° λ³€ν™”μ—†μ΄ μ…λ ¥λ°›μ€ petμ μ΄λ¦„μ„ λ§ν•  μ μλ‹¤.
- μ¦‰, μ¶”μƒ νƒ€μ…μ„ μ‚¬μ©ν•λ” μ΄μ 
  - μ΄λ΅ μΈν•΄ μ½”λ“μ μ¬μ‚¬μ©μ„±κ³Ό μ μ—°μ„±μ΄ μ¦κ°€!
  - μ¶”μƒ νƒ€μ…μ„ μ‚¬μ©ν•¨μΌλ΅μ¨ μ±…μ„μ„ λ¶„λ¦¬ν•  μ μλ” μ΄‰λ§¤μ  μ—­ν• μ„ ν•  μ μλ‹¤

### π”– λ³€ν™”λλ” λ¶€λ¶„μ„ μ¶”μƒν™”ν•κΈ°
- μ μ—°ν• μ„¤κ³„λ¥Ό ν•  λ•, μ²μλ¶€ν„° λ³€ν™”λ  λ¶€λ¶„μ„ μ¶”μƒν™”ν•΄μ„ μ„¤κ³„ν•κΈ°λ” μ‰½μ§€ μ•λ‹¤
- λ§μ•½ μ„¤κ³„/κµ¬ν„ν•  λ•, μ”κµ¬ μ‚¬ν•­μ΄ μ¶”κ°€λλ©΄ λ³€ν™”λ  λ¶€λ¶„μ΄ λ³΄μΈλ‹¤λ©΄ ν•΄λ‹Ή λ¶€λ¶„μ€ μ¶”μƒν™”λ¥Ό ν†µν•΄(=μ¶”μƒ νƒ€μ…μ„ μ΄μ©ν•μ—¬) λ³΄λ‹¤ μ μ—°ν• μ„¤κ³„/κµ¬ν„μ„ ν•  μ μλ‹¤

### π”– μΈν„°νμ΄μ¤μ— λ€κ³  ν”„λ΅κ·Έλλ°ν•κΈ°
- μ—¬κΈ°μ„ λ§ν•λ” μΈν„°νμ΄μ¤λ” μλ°”/μ½”ν‹€λ¦°μ—μ„ μ κ³µν•λ” μΈν„°νμ΄μ¤κ°€ μ•„λ‹λΌ μ¶”μƒ νƒ€μ…μ„ λ§ν•¨
- μΈν„°νμ΄μ¤μ— λ€κ³  ν”„λ΅κ·Έλλ°ν•κΈ°λ”, κ°„λ‹¨ν μ„¤λ…ν•μ—¬ μ•μ„ μμ‹λ΅ λ“  μ½”λ“μ²λΌ μ½ν¬λ¦¬νΈ ν΄λμ¤κ°€ μ•„λ‹λΌ μ¶”μƒ νƒ€μ…μ„ μ΄μ©ν•λ” κ²ƒ
- λ‹¨, μ¶”μƒ νƒ€μ…μ„ λ„λ¬΄ μμ£Ό μ‚¬μ©ν•λ©΄ μ½”λ“κ°€ λ„λ¬΄ λ³µμ΅ν•΄μ§
- λ”°λΌμ„, λ³€ν™”κ°€ μμ£Ό λ°μƒν•  κ²ƒμΌλ΅ μμƒλλ” μƒν™©μ—μ„λ§ μ¶”μƒ νƒ€μ…(μΈν„°νμ΄μ¤)λ¥Ό ν™μ©ν•μ
  - κ·ΈλΌ ν”„λ΅κ·Έλλ°μ΄ λ” λ³µμ΅ν•΄μ§€μ§€λ§ λ” μ μ—°ν•΄μ§€κΈ° λ•λ¬Έμ— λ” μΆ‹λ‹¤

### π”– μΈν„°νμ΄μ¤λ” μΈν„°νμ΄μ¤ μ‚¬μ©μ μ…μ¥μ—μ„ λ§λ“¤κΈ°
- μΈν„°νμ΄μ¤λ¥Ό μ‘μ„±ν•  λ•μ—λ” κ·Έ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” μ½”λ“ μ…μ¥μ—μ„ μ‘μ„±ν•μ
### π”– μΈν„°νμ΄μ¤μ™€ ν…μ¤νΈ
- μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•λ‹¤λ©΄ μ½ν¬λ¦¬νΈ ν΄λμ¤κ°€ μ™„μ„±λμ§€ μ•μ€ μƒν™©μ—μ„λ„ ν…μ¤νΈλ¥Ό μ§„ν–‰ν•  μ μλ‹¤
- μ‹¤μ  ν”„λ΅κ·Έλλ°μ„ ν•  λ•λ” ν…μ¤νΈλ¥Ό ν•κΈ° μ„ν•΄ μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ μƒμ„±ν•κΈ° λ³΄λ‹¤λ” Mockitoλ‚ jmockκ³Ό κ°™μ€ ν”„λ μ„μ›ν¬λ¥Ό ν™μ© (μ½”ν‹€λ¦°μ€ mockk ν™μ©)
  - μ„μ—μ„ λ§ν• ν”„λ μ„μ›ν¬λ“¤μ€ μ§μ—¬μ§„ μΈν„°νμ΄μ¤λ¥Ό λ°”νƒ•μΌλ΅ Mock κ°μ²΄λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤

### π”– μ¶”κ°€μ μΌλ΅ μ¶”μƒ νƒ€μ…μΌλ΅λ¶€ν„° μƒμ†λ μ—¬λ¬ κ°μ²΄λ¥Ό κ°™μ΄ λ‹¤λ£° λ• νΈλ¦¬ν•΄μ§„λ‹¤
```
 val dog: Dog = Dog()
 val cat: Cat = Cat()
 val parrot: Parrot = Parrot()
 val petArray = arrayOf<Any> (dog,cat,parrot)
```

```
 val dog: Pet = Dog()
 val cat: Pet = Cat()
 val parrot: Pet = Parrot()
 val petArray = arrayOf<Pet> (dog,cat,parrot)
```

- μ½λ ‰μ…μ„ μ΄μ©ν•  λ• μ¶”μƒ νƒ€μ…μ„ μ΄μ©ν•λ©΄, μ¶”μƒ νƒ€μ…μΌλ΅λ¶€ν„° μƒμ†λ λ‹¤μ–‘ν• κ°μ²΄λ¥Ό μ†μ‰½κ² λ‹¤λ£° μ μλ‹¤